<div id="reference-details">
  <app-loading-spinner *ngIf="!refDetails && !apiError"></app-loading-spinner>
  <app-api-error-display *ngIf="apiError" [error]="apiError"></app-api-error-display>

<div *ngIf="refDetails">
  <app-contact-email class="contact-email" [linkName]="'Contact curators ...'"
                     [subject]="'Comment or problem report'"></app-contact-email>

  <div class="details-page-name-and-id">
    <span class="reference-title" *ngIf="refDetails.title">
      {{refDetails.title}}
    </span>
  </div>


  <div id="reference-summary" class="details-page-summary">
    <table>
      <tbody>
        <tr *ngIf="isPubMedRef">
          <td class="details-label">Authors</td>
          <td>{{refDetails.authors}}</td>
          <td *ngIf="cantoCommunityCuratorName">
            Curated by {{cantoCommunityCuratorName}} in
            <a href="http://curation.pombase.org">Canto <img src="/assets/canto_icon.png"/></a>
          </td>
        </tr>
        <tr *ngIf="isPubMedRef">
          <td class="details-label">Citation</td>
          <td>{{refDetails.citation}}</td>
        </tr>
        <tr>
          <td class="details-label">ID</td>
          <td>{{refDetails.uniquename}}</td>
        </tr>
        <tr *ngIf="isPubMedRef">
          <td class="details-label">Links</td>
          <td>
            <a class="pub-link" href="http://europepmc.org/abstract/MED/{{pubMedId}}">Europe PMC</a>
              |
            <a class="pub-link" href="http://www.ncbi.nlm.nih.gov/pubmed?term={{pubMedId}}">PubMed</a>
          </td>
        </tr>
        <tr *ngIf="refDetails.abstract">
          <td class="details-label">Abstract</td>
          <td colspan="3"><span class="abstract">{{refDetails.abstract}}</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <hr style="clear: both" />

  <div class="annotations-section-header">
  Annotations from this publication:
  </div>

  <div>
    <span *ngFor="let annotationTypeName of annotationTypeNames">
      <app-annotation-table *ngIf="annotationTypeName != 'qualitative_gene_expression' && annotationTypeName != 'quantitative_gene_expression'"
                            [annotationTypeName]="annotationTypeName"
                            [hideColumns]="['reference', 'desc-rel']"
                            [featureInFirstColumn]="true"
                            [annotationTable]="refDetails.cv_annotations[annotationTypeName]"></app-annotation-table>
    </span>
  </div>
  <div>
    <app-interaction-annotation-table [annotationTypeName]="'physical_interactions'"
                                      [hideColumns]="['reference']"
                                      [annotationTable]="refDetails.physical_interactions"></app-interaction-annotation-table>
  </div>
  <div>
    <app-interaction-annotation-table [annotationTypeName]="'genetic_interactions'"
                                      [hideColumns]="['reference']"
                                      [annotationTable]="refDetails.genetic_interactions"></app-interaction-annotation-table>
  </div>
  <div>
    <app-ortholog-annotation-table [hideColumns]="['reference']"
                                   [annotationTable]="refDetails.ortholog_annotations"></app-ortholog-annotation-table>
  </div>
  <div>
    <app-paralog-annotation-table [annotationTable]="refDetails.paralog_annotations"></app-paralog-annotation-table>
  </div>

</div>
</div>
