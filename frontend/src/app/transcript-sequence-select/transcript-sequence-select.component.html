<fieldset class="annotation-table external-references">
  <legend>
    Sequence
  </legend>
  <div>
    <div *ngIf="hasTranscripts">
      <div *ngIf="sequenceVisible">
        <div class="controls">
          <a class="sequence-toggle" (click)="hideSequence()">Hide sequence ...</a>
          <div *ngIf="featureIsTranslatable">
          <br/>
          <input id="show-translation" type="checkbox" [(ngModel)]="showTranslation"
                 (ngModelChange)="updateSequence()"/>
          <label for="show-translation">Show translation</label>
          </div>
          <br/>
          <div *ngIf="showTranslation">
          </div>
          <div *ngIf="!showTranslation">
            <div class="exon-title">CDS sequence and:</div>
            <div *ngIf="featureIsTranslatable">
            <input id="include-5-prime" type="checkbox" [(ngModel)]="include5PrimeUtr"
                   (ngModelChange)="updateSequence()"/>
            <label for="include-5-prime">Include 5'UTR</label>
            <div class="flanking-bases">
              Include
              <input id="upstream-bases" type="number" min="0"
                     [(ngModel)]="upstreamBases" (ngModelChange)="updateSequence()"/>
              bases upstream <span *ngIf="featureIsTranslatable && include5PrimeUtr">of UTR</span>
            </div>
            <br/>
            </div>
            <input id="include-introns" type="checkbox" [(ngModel)]="includeIntrons"
                   (ngModelChange)="updateSequence()"/>
            <label for="include-introns">Include introns</label>
            <br/>
            <div *ngIf="featureIsTranslatable">
            <input id="include-3-prime" type="checkbox" [(ngModel)]="include3PrimeUtr"
                   (ngModelChange)="updateSequence()"/>
            <label for="include-3-prime">Include 3'UTR</label>
            <div class="flanking-bases">
              Include
              <input id="downstream-bases" type="number" min="0"
                     [(ngModel)]="downstreamBases" (ngModelChange)="updateSequence()"/>
              bases downstream <span *ngIf="featureIsTranslatable && include3PrimeUtr">of UTR</span>
            </div>
            </div>
          </div>
          <br/>

          <button (click)="download()">Download sequence</button>
        </div>
        <div class="sequence">
          <pre *ngIf="sequence">
&gt;{{sequenceHeader}}
{{sequence}}
          </pre>
          <div *ngIf="sequence != null && sequence == ''">
            (No sequence selected)
          </div>
          <app-loading-spinner *ngIf="sequence == null"></app-loading-spinner>
        </div>
      </div>
      <a class="sequence-toggle" *ngIf="!sequenceVisible" (click)="showSequence()">Show sequence ...</a>
    </div>
    <div *ngIf="!hasTranscripts">
      This gene has no transcripts available
    </div>
  </div>
</fieldset>
