<div class="vis-main">
  <div class="vis-column-select">
    <div *ngFor="let colConfig of visColumnConfigs">
      {{colConfig.display_name}}:
      <input type="checkbox"
             (change)="confSelectionChanged()"
             [(ngModel)]="selectedColumns[colConfig.name]"/>
    </div>
  </div>

  <div class="vis-results">
    Results:
    <div *ngIf="!showResults()">
      (Select a column type from the list to the left)
    </div>

    <div *ngIf="showResults()">
      <div class="vis-svg">
        <svg [attr.width]="geneWidth + selectedConfigNames.length * columnWidth"
             [attr.height]="genes.length * lineHeight + 10"
             xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"
             id="gene-vis" overflow="visible">
          <g style="pointer-events: all">
            <rect *ngFor="let geneData of getGeneDisplayData()"
                  (mouseenter)="mouseenter($event)" (mouseleave)="mouseleave($event)"
                  class="vis-gene" [attr.id]="geneData.id" [attr.height]="geneData.height"
                  [attr.width]="geneData.width" [attr.x]="geneData.x" [attr.y]="geneData.y"
                  stroke-width="0" stroke="#9f9"
                  [attr.fill]="geneData.color"
                  style="pointer-events:inherit">
            </rect>
          </g>
          <g *ngFor="let columnName of visColumnNames"
             style="pointer-events: none">
            <rect *ngFor="let columnData of getColumnDisplayDataMap()[columnName]"
                  (mouseenter)="mouseenter($event)" (mouseleave)="mouseleave($event)"
                  class="vis-column"
                  [attr.height]="columnData.height" [attr.width]="columnData.width"
                  [attr.x]="columnData.x" [attr.y]="columnData.y"
                  stroke-width="0" stroke="#9f9"
                  [attr.fill]="columnData.color"
                  style="pointer-events:inherit">
            </rect>
          </g>
        </svg>
      </div>
    </div>
  </div>

  <div class="vis-gene-details" *ngIf="currentGene">
    {{currentGene.name}} {{currentGene.uniquename}}
  </div>
</div>
